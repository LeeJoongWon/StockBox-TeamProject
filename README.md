# 시가총액 32조 팀 프로젝트

![1](https://user-images.githubusercontent.com/83052628/215926277-6250440b-134a-4cd8-b05c-00c524c9fe60.JPG)

<br />

# 👪 팀원 소개
|<img src="https://avatars.githubusercontent.com/u/83052628?v=4" width="150px" />|<img src="https://avatars.githubusercontent.com/u/111216062?v=4" width="150px" />|<img src="https://avatars.githubusercontent.com/u/106802169?v=4" width="150px"/>|<img src="https://avatars.githubusercontent.com/u/110961521?v=4" width="150px" />|<img src="https://avatars.githubusercontent.com/u/80241053?v=4" width="150px"/>|<img src="https://avatars.githubusercontent.com/u/111164516?v=4" width="150px" />|
|-|-|-|-|-|-|
|[이중원](https://github.com/LeeJoongWon)|[박인우](https://github.com/FE41PIW)|[양우진](https://github.com/yan9vvoojin)|[박시환](https://github.com/psh1379)|[방재영](https://github.com/bangjaeyoung)|[임동규](https://github.com/pepsi160ml)
|FE 팀장<br/>(프로젝트 부팀장)|FE 팀원|FE 팀원|BE 팀장<br/>(프로젝트 팀장)|BE 팀원|BE 팀원|

<br />

# 🔧 기술 스택
### Front-End
<div align=left> 
  <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> 
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> 
  <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> 
  <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
  <img src="https://img.shields.io/badge/react router-512BD4?style=for-the-badge&logo=react router&logoColor=black">
  <img src="https://img.shields.io/badge/reactquery-FF4154?style=for-the-badge&logo=reactquery&logoColor=white">
  <img src="https://img.shields.io/badge/recoil-DB7093?style=for-the-badge&logo=&logoColor=white">
  <img src="https://img.shields.io/badge/node.js-339933?style=for-the-badge&logo=Node.js&logoColor=white">
  <img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=white">
  <img src="https://img.shields.io/badge/styled-components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white">
  <img src="https://img.shields.io/badge/npm-CB3837?style=for-the-badge&logo=npm&logoColor=white">
</div>

### Back-End
<div align=left> 
  <img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white">
  <img src="https://img.shields.io/badge/Spring Boot-6DB33F?style=for-the-badge&logo=Spring Boot&logoColor=white">
  <img src="https://img.shields.io/badge/Spring DATA JPA-1572B6?style=for-the-badge&logo=Spring Boot&logoColor=white">
  <img src="https://img.shields.io/badge/Spring Security-E34F26?style=for-the-badge&logo=Spring Boot&logoColor=white"> 
  <img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white"> 
  <img src="https://img.shields.io/badge/GRADLE-02303A?style=for-the-badge&logo=GRADLE&logoColor=white"> 
  <img src="https://img.shields.io/badge/LOMBOK-E10098?style=for-the-badge&logo&logoColor=white">
  <img src="https://img.shields.io/badge/MAPSTRUCT-F46800?style=for-the-badge&logo=&logoColor=white">
  
  <img src="https://img.shields.io/badge/H2 DB-0B2C4A?style=for-the-badge&logo&logoColor=white">
  <img src="https://img.shields.io/badge/JWT-40AEF0?style=for-the-badge&logo=&logoColor=white">
</div>

### Cloud
<div align=left> 
  <img src="https://img.shields.io/badge/Amazon EC2-FF9900?style=for-the-badge&logo=Amazon EC2&logoColor=white"> 
  <img src="https://img.shields.io/badge/Amazon RDS-527FFF?style=for-the-badge&logo=Amazon RDS&logoColor=white">
  <img src="https://img.shields.io/badge/Amazon S3-569A31?style=for-the-badge&logo=Amazon S3&logoColor=white"> 
</div>

### 문서/협업
<div align=left> 
  <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
  <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
  <img src="https://img.shields.io/badge/discord-5865F2?style=for-the-badge&logo=discord&logoColor=white">
</div>

<br />

#1 💡 프로젝트 구상 배경

주식을 처음 접하시는 분들을 위한 모의거래 사이트를 만들고 싶었습니다

주식을 처음 접하시는 분들이 실제 주식거래를 하면 대부분 경험과 지식이 없어서 손해를 볼 가능성이 높습니다

저희는 해당 문제를 해결하고자 가상의 돈으로 현실의 주식정보를 실시간으로 가져와 모의거래가 가능한 서비스를 만들고 싶었습니다

<br />

## 🔗 배포링크

http://stockboxtest.s3-website.ap-northeast-2.amazonaws.com/

<br />

# 🔗 FE 

## FE 팀장 이중원 (프로젝트 부팀장)
### 담당한 작업들
* 주식
* 뉴스
* 북마크
* 자산관리 
* 툴팁기능
* 알림기능
* 로드밸런서
* 페이지네이션
* 검색기능 개선
* 리엑트 쿼리, 리코일
* 숫자를 한글표시와 3자리 숫자마다 콤마를 찍어주는 기능
* 주식거래기록 계산기(매도,매수평균가,손익,일자별 거래기록등등)
* 날짜를 한글표시로 (~분전, ~일전, ~년전으로 바꿔주는) 바꿔주는 기능

<br />

### 1️⃣ 주식상세 페이지 
![Lee1](https://user-images.githubusercontent.com/83052628/215926402-7391d861-8519-405c-b478-7039e3d549ab.gif)
<br />
📘 기능
* 실시간 주식정보 기능  
* 현재 주식 장 시간이 어떤 시간인지 표시하는 기능
* 사용자의 편의를 위한 숫자를 한글표시로 바꿔주는 기능
* 매매에 성공 또는 실패에 따른 알림기능 (3초후 자동으로 닫힘)
* 사용자의 편의를 위한 3자리 숫자마다 콤마를 찍어서 보여주는 기능
* 사용자가 어려워할 만한 투자지표애 마우스오버를 하면 툴팁으로 설명을 보여주는 기능
* 매매를 돕기위해 평단가와 손익 매수금액 매도금액등을 계산하여 사용자에게 알려주는 기능
* 사용자가 보유한 주식수량보다 적을떄와 예수금이 부족할떄 사용자가 거래를 할 수 없도록 막는 기능

<br />

### 2️⃣ 주식 전체페이지 & TOP10 페이지
![Lee2](https://user-images.githubusercontent.com/83052628/215929568-316a8cec-a165-4c36-87c4-b72e84d3b4ad.gif)
<br />
📘 기능
* 주식 검색기능
* 코스피와 코스닥 주식을 구분 할 수 있는 탭 기능
* 시가총액, 상승폭, 하락폭, 거래량, 거래대금에 따른 정렬기능

<br />

### 3️⃣ 관심종목 페이지 (북마크)
![Lee3](https://user-images.githubusercontent.com/83052628/215930365-76c9ee75-3e03-4aef-8801-2ae1a4adf1aa.gif)
<br />
📘 기능
* 검색기능
* 전체주식 리스트와 북마크한 주식을 나누어 탭 기능 구현 (사용자 편의성을 위한)

<br />

### 4️⃣ 자산관리 페이지
![Lee4](https://user-images.githubusercontent.com/83052628/215931303-60e65ff4-036c-4fd7-84f8-424690411074.gif)
<br />
📘 기능
* 거래기록을 보여주는 기능
* 사용자가 보유한 주식들의 가치의 비율을 파이형태의 차트로 보여주는 기능
* 총 자산, 예수금, 보유 주식가치, 손익등등을 계산하여 사용자에게 보여주는 기능
* 예수금, 보유 주식가치, 손익을 거래 단위별로 계산하여 라인형태의 차트로 보여주는 기능
* 사용자가 한눈에 알아보기 쉽게 거래기록 시간을 한글표시로 ~분전, ~일전, ~년전으로 바꿔주는 기능

<br />

### 5️⃣ 개선, 최적화

### 리엑트 리코일
![Lee5](https://user-images.githubusercontent.com/83052628/215931388-24bdb31c-0f03-4bff-bee0-be18d2fc7acd.JPG)

주식 정보는 외부 api를 사용하기 때문에 트래픽제한과 api 응답속도에서 문제가 발생하였습니다

주식 상세정보를 담당하는 한국투자증권 api는 초당 20회의 트래픽제한이 있다는것이 문제였고

주식 전체리스트정보를 가져오는 정부의 누리집 api는 응답속도가 평균 2~3초가 소요된다는 문제가 있었습니다  

이것을 해결하기 위해 리엑트 쿼리를 도입하였습니다

리엑트 쿼리를 선택하게 된 이유는 동기화와 캐싱기능 그리고 훅기반이라서 사용하기 쉽기 때문에 리엑트 쿼리를 도입하였습니다

먼저 api요청을 줄이기 위해 데이터의 상태를 

1. 실시간으로 변하는 값

2. 하루단위로 변하는 값

3. 유저 상호작용에 의해 변하는 값 으로 구분하였습니다

실시간으로 변하는 값은 뉴스정보,주식 현재가가 있고

하루단위로 변하는 값은 주식매매동향, 주식일자별정보, 주식전체리스트정보가 있습니다

유저 상호작용에 의해 변하는 값들은 유저 북마크, 유저 지갑이 있습니다

이것을 리엑트쿼리의 캐싱기능을 이용하여 각각의 상황에 따라 api요청을 하게 만들었고 그 외에는 api요청을 하지 않고

캐쉬된 데이터를 사용하도록 구현하였습니다

이것을 통해 api의 느린 응답속도와 트래픽제한을 어느정보 해결을 하여 성능개선을 이루었습니다

리엑트 쿼리가 훅 기반이기 떄문에 컴포넌트와 api를 분리하여 코드의 가독성을 향상시키는 효과도 있었습니다



✔️ Git Commit Message Convention

[Feat] : 새로운 기능에 대한 커밋

[Fix] : 버그 수정에 대한 커밋

[Build] : 빌드 관련 파일 수정에 대한 커밋

[Chore] : 그 외 자잘한 수정에 대한 커밋

[Ci] : CI관련 설정 수정에 대한 커밋

[Docs] : 문서 수정에 대한 커밋

[Sytle] : 코드 스타일 혹은 포맷 등에 관한 커밋

[Test] : 테스트 코드 수정에 대한 커밋
